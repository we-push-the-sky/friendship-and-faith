<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>We push the sky</title>
	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="static/css/app.css">

</head>
<body>
	<section>
		<div class="wrapper">

			<!-- Image Map Generated by http://www.image-map.net/ -->
			<img src="static/media/Replace_bingo_650-375.webp" width="653" height="375" alt="" usemap="#image-map" />

			<map name="image-map">
			    <area target="" alt="1" title="" href="" coords="19,61,170,211" shape="rect">
			    <area target="" alt="2" title="" href="" coords="171,61,334,210" shape="rect">
			    <area target="" alt="3" title="" href="" coords="337,62,497,210" shape="rect">
			    <area target="" alt="4" title="" href="" coords="501,62,650,210" shape="rect">
			    <area target="" alt="5" title="" href="" coords="19,212,168,364" shape="rect">
			    <area target="" alt="6" title="" href="" coords="172,211,334,361" shape="rect">
			    <area target="" alt="7" title="" href="" coords="337,211,500,360" shape="rect">
			    <area target="" alt="8" title="" href="" coords="501,211,651,359" shape="rect">
			</map>
		</div>
	</section>

	<template id="user-input-display">
		<span class="display-input">

		</span>
	</template>

	<template id="user-input-form">
		<div class="input-form">
			<input type="text" placeholder="Who is that friend?" name="friend">
		</div>
	</template>

	<script src="static/js/lib/jquery1.10.2.min.js"></script>
	<script src="static/js/lib/jquery.rwdImageMaps.min.js"></script>
	<script src="static/js/lib/ios-orientationchange-fix.min.js"></script>

	<script type="text/javascript">
	$(document).ready(function(e) {
		$('img[usemap]').rwdImageMaps();
		
		var submitBtn = document.querySelector("#submit-btn");
		var template = document.querySelector('#user-input-display');
		var userInputs = [];


		$('area').on('click', function(e) {
			e.preventDefault();
			var inputClone = createInputField(e.currentTarget.alt);
			if(!document.querySelector("#form"+e.currentTarget.alt)){
				document.body.append(inputClone);
				var inputForm = document.querySelector("#form"+e.currentTarget.alt);
				var coords = e.currentTarget.coords.split(',');
				inputForm.style.position = 'absolute';
				// constant nos offsett to align the input form
				inputForm.style.left = Number(coords[0])+11+'px';
				inputForm.style.top = Number(coords[3])-40+'px';
				$(inputForm).toggleClass('show');
			}
			

		});

		/*$('#submit-btn').on('click', function(e){
			e.preventDefault();
			var clone = template.content.cloneNode(true);
			var clonedDiv = clone.querySelector("span");

			var inputVal = document.querySelector("input").value;
			console.log("submitted", inputVal, inputForm, e.currentTarget);
			clonedDiv.textContent = inputVal;
			clonedDiv.style = inputForm.getAttribute('style');
			userInputs.push(clone);
			document.body.appendChild(clone);
			document.querySelector("input").value = "";
			$(inputForm).toggleClass('show');
			console.log(userInputs);
		});*/

		function createInputField(alt) {
			var template = document.querySelector('#user-input-form');
			var clone = template.content.cloneNode(true);
			var clonedDiv = clone.querySelector("div");
			clonedDiv.setAttribute('id', "form"+alt);
			return clone;
		}
	});

	</script>
</body>
</html>