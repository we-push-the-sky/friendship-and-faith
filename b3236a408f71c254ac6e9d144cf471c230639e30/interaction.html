<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>We push the sky</title>
	<meta name="HandheldFriendly" content="True" />
	<meta name="MobileOptimized" content="320" />
	<meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1" />
	<link rel="stylesheet" type="text/css" href="static/css/app.css">

</head>
<body>
	<section>
		<div class="wrapper">
			<div class="input-form">
				<input type="text" placeholder="Who is that friend?" name="friend">
				<button id="submit-btn">Submit</button>
			</div>

			<!-- Image Map Generated by http://www.image-map.net/ -->
			<img src="static/media/Wepushthesky_Bingo-5.webp" width="668" height="375" alt="" usemap="#image-map" />

			<map name="image-map">
			    <area target="" alt="" title="" href="" coords="19,61,170,211" shape="rect">
			    <area target="" alt="" title="" href="" coords="171,61,334,210" shape="rect">
			    <area target="" alt="" title="" href="" coords="337,62,497,210" shape="rect">
			    <area target="" alt="" title="" href="" coords="501,62,650,210" shape="rect">
			    <area target="" alt="" title="" href="" coords="19,212,168,364" shape="rect">
			    <area target="" alt="" title="" href="" coords="172,211,334,361" shape="rect">
			    <area target="" alt="" title="" href="" coords="337,211,500,360" shape="rect">
			    <area target="" alt="" title="" href="" coords="501,211,651,359" shape="rect">
			</map>
		</div>
	</section>

	<template id="user-input-display">
		<span class="display-input">

		</span>
	</template>

	<template id="user-input-form">
		<div class="input-form">
			<input type="text" placeholder="Who is that friend?" name="friend">
			<button id="submit-btn">Submit</button>
		</div>
	</template>
	
	<script src="static/js/lib/jquery1.10.2.min.js"></script>
	<script src="static/js/lib/jquery.rwdImageMaps.min.js"></script>
	<script src="static/js/lib/ios-orientationchange-fix.min.js"></script>

	<script type="text/javascript">
	$(document).ready(function(e) {
		$('img[usemap]').rwdImageMaps();
		var inputForm = document.querySelector(".input-form");
		var submitBtn = document.querySelector("#submit-btn");
		var template = document.querySelector('#user-input-display');
		var userInputs = [];


		$('area').on('click', function(e) {
			e.preventDefault();
			var coords = e.currentTarget.coords.split(',');
			console.log(e.target, e.currentTarget, e)
			inputForm.style.position = 'absolute';
			// +25 is xoffsett and -21 is y offset 
			inputForm.style.left = Number(coords[0])+11+'px';
			inputForm.style.top = Number(coords[3])-40+'px';
			$(inputForm).toggleClass('show');
			//alert($(this).attr('alt') + ' clicked');
		});

		$('#submit-btn').on('click', function(e){
			e.preventDefault();
			var clone = template.content.cloneNode(true);
			var clonedDiv = clone.querySelector("span");

			var inputVal = document.querySelector("input").value;
			console.log("submitted", inputVal, inputForm);
			clonedDiv.textContent = inputVal;
			clonedDiv.style = inputForm.getAttribute('style');
			userInputs.push(clone);
			document.body.appendChild(clone);
			document.querySelector("input").value = "";
			$(inputForm).toggleClass('show');
			console.log(userInputs);
		});
	});

	</script>
</body>
</html>